<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<!-- 공통 헤드-->
<th:block th:replace="~{fragments/head :: headFragment}"></th:block>
<style>
    .login-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
</style>
</head>

<body>
    <div class="container">
        <div class="d-flex justify-content-center align-items-center min-vh-100">
            <div class="col-sm-7 login-container">
                <h1>면담일지 로그인</h1>
                <hr>
                <form name="loginForm" id="loginForm">
                    <!-- <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">통합정보시스템 아이디</label>
                        <input type="text" class="form-control" id="user_id" name="user_id">
                    </div>
                    <div class="mb-3">
                        <label for="exampleInputPassword1" class="form-label">비밀번호</label>
                        <input type="password" class="form-control" id="password" name="user_password">
                    </div> -->
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="user_id" name="user_id" placeholder="id">
                        <label for="floatingInput">통합정보시스템 아이디</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="password" class="form-control" id="password" name="user_password"
                            placeholder="password">
                        <label for="floatingPassword">비밀번호</label>
                    </div>
                    <div class="text-center">
                        <button type="btn" class="btn btn-primary" id="btn_login">로그인</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <th:block th:replace="~{fragments/script :: scriptFragment}"></th:block>
    <script>
        $('#btn_login').on('click', function (e) {
            e.preventDefault();

            var formData = $("#loginForm").serialize();

            $.ajax({
                type: 'POST',
                url: '/login',
                data: formData,
                success: function (data) {
                    location.href = "/main";
                },
                error: function (xhr, textStatus, errorThrown) {
                    alert(xhr.responseText);
                }
            });


        })
    </script>
</body>

</html>